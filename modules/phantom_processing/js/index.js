!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}({0:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_filters=__webpack_require__(26),_filters2=_interopRequireDefault(_filters),_datatable=__webpack_require__(28),_datatable2=_interopRequireDefault(_datatable),PhantomProcessingApp=function(_React$Component){function PhantomProcessingApp(props){_classCallCheck(this,PhantomProcessingApp);var _this=_possibleConstructorReturn(this,(PhantomProcessingApp.__proto__||Object.getPrototypeOf(PhantomProcessingApp)).call(this,props));return _this.state={phantoms:{},cbrain:{},isLoaded:!1,filter:{}},_this.getData=_this.getData.bind(_this),_this.updateFilter=_this.updateFilter.bind(_this),_this}return _inherits(PhantomProcessingApp,_React$Component),_createClass(PhantomProcessingApp,[{key:"getData",value:function(){var that=this,p1=fetch(this.props.baseurl.concat("?format=json"),{headers:{Accept:"application/json"}}).then(function(res){return res.json()}).then(function(result){return result}),p2=fetch(this.props.baseurl.concat("/cbrain"),{headers:{Accept:"application/json"}}).then(function(res){return res.json()}).then(function(result){return Object.keys(result).map(function(dpindex){return{dataprovider:JSON.parse(result[dpindex].dp),files:Object.keys(result[dpindex].files).map(function(fileindex){return JSON.parse(result[dpindex].files[fileindex])})}})});Promise.all([p1,p2]).then(function(value){that.setState({phantoms:value[0],cbrain:value[1],isLoaded:!0})})}},{key:"componentDidMount",value:function(){this.getData()}},{key:"updateFilter",value:function(filter){this.setState({filter:filter})}},{key:"render",value:function(){if(!this.state.isLoaded)return React.createElement("span",null,"Loading...");if(this.state.error)return React.createElement("span",null,error);var cbraindata=this.state.cbrain,tableheaders=["Visit Label","Insert Date","Status","Details"],tabledata=Object.values(this.state.phantoms.Data.reduce(function(carry,item){return carry[item.visit_label]=[item.visit_label,item.insert_date],carry},{})).map(function(row){var userfile=cbraindata[0].files.filter(function(f){var re=new RegExp("[0-9]{6}_"+row[0]);return re.test(f.name)});return row.concat(["",React.createElement(LaunchPhantomPipelineButton,{userfileId:userfile[0].userfile_id})])});return React.createElement("div",null,React.createElement(_filters2.default,{updateFilter:this.updateFilter,form:this.state.phantoms.form,filter:this.state.filter}),React.createElement(_datatable2.default,{data:tabledata,headers:tableheaders,filter:this.state.filter}))}}]),PhantomProcessingApp}(React.Component);PhantomProcessingApp.propTypes={baseurl:React.PropTypes.string.isRequired},document.addEventListener("DOMContentLoaded",function(){ReactDOM.render(React.createElement(PhantomProcessingApp,{baseurl:loris.BaseURL.concat("/phantom_processing")}),document.getElementById("lorisworkspace"))})},2:function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Panel=function(_React$Component){function Panel(props){_classCallCheck(this,Panel);var _this=_possibleConstructorReturn(this,(Panel.__proto__||Object.getPrototypeOf(Panel)).call(this,props));return _this.state={collapsed:_this.props.initCollapsed},_this.panelClass=_this.props.initCollapsed?"panel-collapse collapse":"panel-collapse collapse in",_this.toggleCollapsed=_this.toggleCollapsed.bind(_this),_this}return _inherits(Panel,_React$Component),_createClass(Panel,[{key:"toggleCollapsed",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"render",value:function(){var glyphClass=this.state.collapsed?"glyphicon pull-right glyphicon-chevron-down":"glyphicon pull-right glyphicon-chevron-up",panelHeading=this.props.title?React.createElement("div",{className:"panel-heading",onClick:this.toggleCollapsed,"data-toggle":"collapse","data-target":"#"+this.props.id,style:{cursor:"pointer"}},this.props.title,React.createElement("span",{className:glyphClass})):"";return React.createElement("div",{className:"panel panel-primary"},panelHeading,React.createElement("div",{id:this.props.id,className:this.panelClass,role:"tabpanel"},React.createElement("div",{className:"panel-body",style:{height:this.props.height}},this.props.children)))}}]),Panel}(React.Component);Panel.propTypes={id:React.PropTypes.string,height:React.PropTypes.string,title:React.PropTypes.string},Panel.defaultProps={initCollapsed:!1,id:"default-panel",height:"100%"},exports.default=Panel},13:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_Panel=__webpack_require__(2),_Panel2=_interopRequireDefault(_Panel),FilterForm=function(_React$Component){function FilterForm(props){_classCallCheck(this,FilterForm);var _this=_possibleConstructorReturn(this,(FilterForm.__proto__||Object.getPrototypeOf(FilterForm)).call(this,props));return _this.clearFilter=_this.clearFilter.bind(_this),_this.getFormChildren=_this.getFormChildren.bind(_this),_this.setFilter=_this.setFilter.bind(_this),_this.onElementUpdate=_this.onElementUpdate.bind(_this),_this.queryString=QueryString.get(),_this}return _inherits(FilterForm,_React$Component),_createClass(FilterForm,[{key:"componentDidMount",value:function(){var filter={},queryString=this.queryString;Object.keys(queryString).forEach(function(key){var filterKey="candidateID"===key?"candID":key;filter[filterKey]={value:queryString[key],exactMatch:!1}}),this.props.onUpdate(filter)}},{key:"clearFilter",value:function(){this.queryString=QueryString.clear(this.props.Module),this.props.onUpdate({})}},{key:"getFormChildren",value:function(){var formChildren=[];return React.Children.forEach(this.props.children,function(child,key){if(React.isValidElement(child)&&"function"==typeof child.type&&child.props.onUserInput){var callbackFunc=child.props.onUserInput,callbackName=callbackFunc.name,elementName=child.type.displayName,queryFieldName="candID"===child.props.name?"candidateID":child.props.name,filterValue=this.queryString[queryFieldName];"onUserInput"===callbackName&&(callbackFunc="ButtonElement"===elementName&&"reset"===child.props.type?this.clearFilter:this.onElementUpdate.bind(null,elementName)),formChildren.push(React.cloneElement(child,{onUserInput:callbackFunc,value:filterValue?filterValue:"",key:key})),this.setFilter(elementName,child.props.name,filterValue)}else formChildren.push(React.cloneElement(child,{key:key}))}.bind(this)),formChildren}},{key:"setFilter",value:function(type,key,value){var filter={};return this.props.filter&&(filter=JSON.parse(JSON.stringify(this.props.filter))),key&&(filter[key]={},value?filter[key].value=Object.keys(value).length>0?value:"":filter[key].value="",filter[key].exactMatch="SelectElement"===type||"select"===type),filter&&key&&""===value&&delete filter[key],filter}},{key:"onElementUpdate",value:function(type,fieldName,fieldValue){if("string"==typeof fieldName&&("string"==typeof fieldValue||"object"===("undefined"==typeof fieldValue?"undefined":_typeof(fieldValue)))){var queryFieldName="candID"===fieldName?"candidateID":fieldName;this.queryString=QueryString.set(this.queryString,queryFieldName,fieldValue);var filter=this.setFilter(type,fieldName,fieldValue);this.props.onUpdate(filter)}}},{key:"render",value:function(){var formChildren=this.getFormChildren(),formElements=this.props.formElements;return formElements&&Object.keys(formElements).forEach(function(fieldName){var queryFieldName="candID"===fieldName?"candidateID":fieldName;formElements[fieldName].onUserInput=this.onElementUpdate.bind(null,formElements[fieldName].type),formElements[fieldName].value=this.queryString[queryFieldName]}.bind(this)),React.createElement(_Panel2.default,{id:this.props.id,height:this.props.height,title:this.props.title},React.createElement(FormElement,this.props,formChildren))}}]),FilterForm}(React.Component);FilterForm.defaultProps={id:"selection-filter",height:"100%",title:"Selection Filter",onUpdate:function(){console.warn("onUpdate() callback is not set!")}},FilterForm.propTypes={Module:React.PropTypes.string.isRequired,filter:React.PropTypes.object.isRequired,id:React.PropTypes.string,height:React.PropTypes.string,title:React.PropTypes.string,onUpdate:React.PropTypes.func},exports.default=FilterForm},26:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_FilterForm=__webpack_require__(13),_FilterForm2=_interopRequireDefault(_FilterForm),PhantomsFilters=(__webpack_require__(27),function(_React$Component){function PhantomsFilters(props){_classCallCheck(this,PhantomsFilters);var _this=_possibleConstructorReturn(this,(PhantomsFilters.__proto__||Object.getPrototypeOf(PhantomsFilters)).call(this,props));return _this.resetFilter=_this.resetFilter.bind(_this),_this}return _inherits(PhantomsFilters,_React$Component),_createClass(PhantomsFilters,[{key:"resetFilter",value:function(){this.refs.phantomsFilters.clearFilter()}},{key:"render",value:function(){return React.createElement(_FilterForm2.default,{Module:"phantom_processing",name:"phantomsFilters",id:"phantomsFilters",ref:"phantomsFilters",columns:3,formElements:this.props.form,onUpdate:this.props.updateFilter,filter:this.props.filter},React.createElement(ButtonElement,{label:"Clear Filters",type:"reset",onUserInput:this.resetFilter}))}}]),PhantomsFilters}(React.Component));exports.default=PhantomsFilters},27:function(module,exports){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),FormElement=function(_React$Component){function FormElement(){_classCallCheck(this,FormElement);var _this=_possibleConstructorReturn(this,(FormElement.__proto__||Object.getPrototypeOf(FormElement)).call(this));return _this.getFormElements=_this.getFormElements.bind(_this),_this.handleSubmit=_this.handleSubmit.bind(_this),_this}return _inherits(FormElement,_React$Component),_createClass(FormElement,[{key:"getFormElements",value:function(){var formElementsHTML=[],columns=this.props.columns,maxColumnSize=12,colSize=Math.floor(maxColumnSize/columns),colClass="col-xs-12 col-sm-"+colSize+" col-md-"+colSize,filter=this.props.formElements;return Object.keys(filter).forEach(function(objKey,index){var userInput=this.props.onUserInput?this.props.onUserInput:filter[objKey].onUserInput,value=filter[objKey].value?filter[objKey].value:"";formElementsHTML.push(React.createElement("div",{key:"el_"+index,className:colClass},React.createElement(LorisElement,{element:filter[objKey],onUserInput:userInput,value:value})))}.bind(this)),React.Children.forEach(this.props.children,function(child,key){var elementClass="col-xs-12 col-sm-12 col-md-12";React.isValidElement(child)&&"function"==typeof child.type&&(elementClass=colClass),formElementsHTML.push(React.createElement("div",{key:"el_child_"+key,className:elementClass},child))}),formElementsHTML}},{key:"handleSubmit",value:function(e){this.props.onSubmit&&(e.preventDefault(),this.props.onSubmit(e))}},{key:"render",value:function(){var encType=this.props.fileUpload?"multipart/form-data":null,formElements=this.getFormElements(),rowStyles={display:"flex",flexWrap:"wrap"};return React.createElement("form",{name:this.props.name,id:this.props.id,className:this.props.class,method:this.props.method,action:this.props.action,encType:encType,onSubmit:this.handleSubmit},React.createElement("div",{className:"row",style:rowStyles},formElements))}}]),FormElement}(React.Component);FormElement.propTypes={name:React.PropTypes.string.isRequired,id:React.PropTypes.string,method:React.PropTypes.oneOf(["POST","GET"]),action:React.PropTypes.string,class:React.PropTypes.string,columns:React.PropTypes.number,formElements:React.PropTypes.shape({elementName:React.PropTypes.shape({name:React.PropTypes.string,type:React.PropTypes.string})}),onSubmit:React.PropTypes.func,onUserInput:React.PropTypes.func},FormElement.defaultProps={name:null,id:null,method:"POST",action:void 0,class:"form-horizontal",columns:1,fileUpload:!1,formElements:{},onSubmit:function(){console.warn("onSubmit() callback is not set!")}};var SearchableDropdown=function(_React$Component2){function SearchableDropdown(){_classCallCheck(this,SearchableDropdown);var _this2=_possibleConstructorReturn(this,(SearchableDropdown.__proto__||Object.getPrototypeOf(SearchableDropdown)).call(this));return _this2.getKeyFromValue=_this2.getKeyFromValue.bind(_this2),_this2.handleChange=_this2.handleChange.bind(_this2),_this2.handleBlur=_this2.handleBlur.bind(_this2),_this2.getTextInputValue=_this2.getTextInputValue.bind(_this2),_this2}return _inherits(SearchableDropdown,_React$Component2),_createClass(SearchableDropdown,[{key:"getKeyFromValue",value:function(value){var options=this.props.options;return Object.keys(options).find(function(o){return options[o]===value})}},{key:"handleChange",value:function(e){var value=this.getKeyFromValue(e.target.value);this.props.strictSearch||void 0!==value||(value=e.target.value),this.props.onUserInput(this.props.name,value)}},{key:"handleBlur",value:function(e){if(this.props.strictSearch){var value=e.target.value,options=this.props.options;Object.values(options).indexOf(value)===-1&&(document.querySelector('input[name="'+(this.props.name+"_input")+'"]').value="",this.props.onUserInput(this.props.name,""))}}},{key:"getTextInputValue",value:function(){return document.querySelector('input[name="'+(this.props.name+"_input")+'"]').value}},{key:"render",value:function(){var required=this.props.required?"required":null,disabled=this.props.disabled?"disabled":null,options=this.props.options,strictMessage="Entry must be included in provided list of options.",errorMessage=null,requiredHTML=null,elementClass="row form-group";if(required&&(requiredHTML=React.createElement("span",{className:"text-danger"},"*")),this.props.errorMessage)errorMessage=React.createElement("span",null,this.props.errorMessage),elementClass="row form-group has-error";else if(this.props.required&&""===this.props.value){var msg="This field is required!";msg+=this.props.strictSearch?" "+strictMessage:"",errorMessage=React.createElement("span",null,msg),elementClass="row form-group has-error"}else this.props.strictSearch&&""===this.props.value&&(errorMessage=React.createElement("span",null,strictMessage),elementClass="row form-group has-error");var value=void 0;return void 0!==this.props.value&&(value=Object.keys(options).indexOf(this.props.value)>-1?options[this.props.value]:this.getTextInputValue()),React.createElement("div",{className:elementClass},React.createElement("label",{className:"col-sm-3 control-label",htmlFor:this.props.label},this.props.label,requiredHTML),React.createElement("div",{className:"col-sm-9"},React.createElement("input",{type:"text",name:this.props.name+"_input",value:value,id:this.props.id,list:this.props.name+"_list",className:"form-control",disabled:disabled,placeholder:this.props.placeHolder,onChange:this.handleChange,onBlur:this.handleBlur,required:required}),React.createElement("datalist",{id:this.props.name+"_list"},Object.keys(options).map(function(option){return React.createElement("option",{value:options[option],key:option})})),errorMessage))}}]),SearchableDropdown}(React.Component);SearchableDropdown.propTypes={name:React.PropTypes.string.isRequired,options:React.PropTypes.object.isRequired,id:React.PropTypes.string,strictSearch:React.PropTypes.bool,label:React.PropTypes.string,value:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.array]),class:React.PropTypes.string,disabled:React.PropTypes.bool,required:React.PropTypes.bool,errorMessage:React.PropTypes.string,placeHolder:React.PropTypes.string,onUserInput:React.PropTypes.func},SearchableDropdown.defaultProps={name:"",options:{},strictSearch:!0,label:"",value:void 0,id:null,class:"",disabled:!1,required:!1,errorMessage:"",placeHolder:"",onUserInput:function(){console.warn("onUserInput() callback is not set")}};var SelectElement=function(_React$Component3){function SelectElement(){_classCallCheck(this,SelectElement);var _this3=_possibleConstructorReturn(this,(SelectElement.__proto__||Object.getPrototypeOf(SelectElement)).call(this));return _this3.handleChange=_this3.handleChange.bind(_this3),_this3}return _inherits(SelectElement,_React$Component3),_createClass(SelectElement,[{key:"handleChange",value:function(e){var value=e.target.value,options=e.target.options,numOfOptions=options.length;if(this.props.multiple&&numOfOptions>1){value=[];for(var i=0,l=numOfOptions;i<l;i++)options[i].selected&&value.push(options[i].value)}this.props.onUserInput(this.props.name,value)}},{key:"render",value:function(){var multiple=this.props.multiple?"multiple":null,required=this.props.required?"required":null,disabled=this.props.disabled?"disabled":null,options=this.props.options,errorMessage=null,emptyOptionHTML=null,requiredHTML=null,elementClass="row form-group";required&&(requiredHTML=React.createElement("span",{className:"text-danger"},"*")),this.props.emptyOption&&(emptyOptionHTML=React.createElement("option",null)),(this.props.hasError||this.props.required&&""===this.props.value)&&(errorMessage=React.createElement("span",null,this.props.errorMessage),elementClass="row form-group has-error");var value=this.props.value||(multiple?[]:"");return React.createElement("div",{className:elementClass},React.createElement("label",{className:"col-sm-3 control-label",htmlFor:this.props.label},this.props.label,requiredHTML),React.createElement("div",{className:"col-sm-9"},React.createElement("select",{name:this.props.name,multiple:multiple,className:"form-control",id:this.props.id,value:value,onChange:this.handleChange,required:required,disabled:disabled},emptyOptionHTML,Object.keys(options).map(function(option){return React.createElement("option",{value:option,key:option},options[option])})),errorMessage))}}]),SelectElement}(React.Component);SelectElement.propTypes={name:React.PropTypes.string.isRequired,options:React.PropTypes.object.isRequired,label:React.PropTypes.string,value:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.array]),id:React.PropTypes.string,class:React.PropTypes.string,multiple:React.PropTypes.bool,disabled:React.PropTypes.bool,required:React.PropTypes.bool,emptyOption:React.PropTypes.bool,hasError:React.PropTypes.bool,errorMessage:React.PropTypes.string,onUserInput:React.PropTypes.func},SelectElement.defaultProps={name:"",options:{},label:"",value:void 0,id:null,class:"",multiple:!1,disabled:!1,required:!1,emptyOption:!0,hasError:!1,errorMessage:"The field is required!",onUserInput:function(){console.warn("onUserInput() callback is not set")}};var TagsElement=function(_React$Component4){function TagsElement(){_classCallCheck(this,TagsElement);var _this4=_possibleConstructorReturn(this,(TagsElement.__proto__||Object.getPrototypeOf(TagsElement)).call(this));return _this4.handleChange=_this4.handleChange.bind(_this4),_this4.handleKeyPress=_this4.handleKeyPress.bind(_this4),_this4.handleAdd=_this4.handleAdd.bind(_this4),_this4.handleRemove=_this4.handleRemove.bind(_this4),_this4.getKeyFromValue=_this4.getKeyFromValue.bind(_this4),_this4.canAddItem=_this4.canAddItem.bind(_this4),_this4}return _inherits(TagsElement,_React$Component4),_createClass(TagsElement,[{key:"handleChange",value:function(e){this.props.onUserInput(this.props.pendingValKey,e.target.value)}},{key:"handleKeyPress",value:function(e){13!==e.keyCode&&13!==e.which||(e.preventDefault(),this.handleAdd())}},{key:"handleAdd",value:function(){var options=this.props.options,value=this.props.value;this.props.useSearch&&Object.values(options).indexOf(value)>-1&&(value=this.getKeyFromValue(value)),this.canAddItem(value)&&this.props.onUserAdd(this.props.name,value,this.props.pendingValKey)}},{key:"handleRemove",value:function(e){var value=e.target.getAttribute("data-item");this.props.onUserRemove(this.props.name,value)}},{key:"getKeyFromValue",value:function(value){var options=this.props.options;return Object.keys(options).find(function(o){return options[o]===value})}},{key:"canAddItem",value:function(value){var result=!0;return value?!this.props.allowDupl&&this.props.items.indexOf(value)>-1?result=!1:this.props.useSearch&&this.props.strictSearch&&Object.keys(this.props.options).indexOf(value)===-1&&(result=!1):result=!1,result}},{key:"render",value:function(){var disabled=this.props.disabled?"disabled":null,requiredHTML=null,emptyOptionHTML=null,errorMessage=null,elementClass="row form-group";this.props.required&&(requiredHTML=React.createElement("span",{className:"text-danger"},"*")),this.props.emptyOption&&(emptyOptionHTML=React.createElement("option",null)),this.props.errorMessage&&(errorMessage=React.createElement("span",null,this.props.errorMessage),elementClass="row form-group has-error");var input=void 0,options=this.props.options;input=Object.keys(options).length>0&&this.props.useSearch?React.createElement("div",null,React.createElement("input",{type:"text",name:this.props.name,id:this.props.id,list:this.props.id+"_list",className:"form-control",value:this.props.value||"",disabled:disabled,onChange:this.handleChange,onKeyPress:this.handleKeyPress}),React.createElement("datalist",{id:this.props.id+"_list"},Object.keys(options).map(function(option){return React.createElement("option",{value:options[option],key:option},options[option])}))):Object.keys(options).length>0?React.createElement("select",{name:this.props.name,className:"form-control",id:this.props.id,value:this.props.value,disabled:disabled,onChange:this.handleChange,onKeyPress:this.handleKeyPress},emptyOptionHTML,Object.keys(options).map(function(option){return React.createElement("option",{value:option,key:option},options[option])})):React.createElement("input",{type:"text",name:this.props.name,id:this.props.id,className:"form-control",value:this.props.value||"",disabled:disabled,onChange:this.handleChange,onKeyPress:this.handleKeyPress});var items=this.props.items.map(function(item){var itmTxt=void 0;return itmTxt=Object.keys(options).length>0&&void 0!==options[item]?options[item]:item,React.createElement("button",{className:"btn btn-info btn-inline",type:"button",onClick:this.handleRemove,"data-item":item},itmTxt," ",React.createElement("span",{className:"glyphicon glyphicon-remove","data-item":item}))},this);return React.createElement("div",{className:elementClass},React.createElement("label",{className:"col-sm-3 control-label",htmlFor:this.props.id},this.props.label,requiredHTML),React.createElement("div",{className:"col-sm-9"},items,input,errorMessage,React.createElement("button",{className:"btn btn-success btn-add-tag",id:this.props.id+"Add",type:"button",onClick:this.handleAdd},React.createElement("span",{className:"glyphicon glyphicon-plus"}),this.props.btnLabel)))}}]),TagsElement}(React.Component);TagsElement.propTypes={name:React.PropTypes.string.isRequired,id:React.PropTypes.string.isRequired,pendingValKey:React.PropTypes.string.isRequired,options:React.PropTypes.object,items:React.PropTypes.array,label:React.PropTypes.string,value:React.PropTypes.string,class:React.PropTypes.string,multiple:React.PropTypes.bool,required:React.PropTypes.bool,disabled:React.PropTypes.bool,emptyOption:React.PropTypes.bool,errorMessage:React.PropTypes.string,btnLabel:React.PropTypes.string,allowDupl:React.PropTypes.bool,useSearch:React.PropTypes.bool,strictSearch:React.PropTypes.bool,onUserInput:React.PropTypes.func,onUserAdd:React.PropTypes.func,onUserRemove:React.PropTypes.func},TagsElement.defaultProps={name:"",options:{},items:[],label:"",value:void 0,id:null,class:"",required:!1,disabled:!1,emptyOption:!0,hasError:!1,allowDupl:!1,useSearch:!1,strictSearch:!1,errorMessage:"",pendingValKey:"",btnLabel:"Add Tag",onUserInput:function(){console.warn("onUserInput() callback is not set")},onUserAdd:function(){console.warn("onUserAdd() callback is not set")},onUserRemove:function(){console.warn("onUserRemove() callback is not set")}};var TextareaElement=function(_React$Component5){function TextareaElement(){_classCallCheck(this,TextareaElement);var _this5=_possibleConstructorReturn(this,(TextareaElement.__proto__||Object.getPrototypeOf(TextareaElement)).call(this));return _this5.handleChange=_this5.handleChange.bind(_this5),_this5}return _inherits(TextareaElement,_React$Component5),_createClass(TextareaElement,[{key:"handleChange",value:function(e){this.props.onUserInput(this.props.name,e.target.value)}},{key:"render",value:function(){var disabled=this.props.disabled?"disabled":null,required=this.props.required?"required":null,requiredHTML=null;return required&&(requiredHTML=React.createElement("span",{className:"text-danger"},"*")),React.createElement("div",{className:"row form-group"},React.createElement("label",{className:"col-sm-3 control-label",
htmlFor:this.props.id},this.props.label,requiredHTML),React.createElement("div",{className:"col-sm-9"},React.createElement("textarea",{cols:this.props.cols,rows:this.props.rows,className:"form-control",name:this.props.name,id:this.props.id,value:this.props.value||"",required:required,disabled:disabled,onChange:this.handleChange})))}}]),TextareaElement}(React.Component);TextareaElement.propTypes={name:React.PropTypes.string.isRequired,label:React.PropTypes.string,value:React.PropTypes.string,id:React.PropTypes.string,disabled:React.PropTypes.bool,required:React.PropTypes.bool,rows:React.PropTypes.number,cols:React.PropTypes.number,onUserInput:React.PropTypes.func},TextareaElement.defaultProps={name:"",label:"",value:"",id:null,disabled:!1,required:!1,rows:4,cols:25,onUserInput:function(){console.warn("onUserInput() callback is not set")}};var TextboxElement=function(_React$Component6){function TextboxElement(){_classCallCheck(this,TextboxElement);var _this6=_possibleConstructorReturn(this,(TextboxElement.__proto__||Object.getPrototypeOf(TextboxElement)).call(this));return _this6.handleChange=_this6.handleChange.bind(_this6),_this6.handleBlur=_this6.handleBlur.bind(_this6),_this6}return _inherits(TextboxElement,_React$Component6),_createClass(TextboxElement,[{key:"handleChange",value:function(e){this.props.onUserInput(this.props.name,e.target.value)}},{key:"handleBlur",value:function(e){this.props.onUserBlur(this.props.name,e.target.value)}},{key:"render",value:function(){var disabled=this.props.disabled?"disabled":null,required=this.props.required?"required":null,errorMessage=null,requiredHTML=null,elementClass="row form-group";return required&&(requiredHTML=React.createElement("span",{className:"text-danger"},"*")),this.props.errorMessage&&(errorMessage=React.createElement("span",null,this.props.errorMessage),elementClass="row form-group has-error"),React.createElement("div",{className:elementClass},React.createElement("label",{className:"col-sm-3 control-label",htmlFor:this.props.id},this.props.label,requiredHTML),React.createElement("div",{className:"col-sm-9"},React.createElement("input",{type:"text",className:"form-control",name:this.props.name,id:this.props.id,value:this.props.value||"",required:required,disabled:disabled,onChange:this.handleChange,onBlur:this.handleBlur}),errorMessage))}}]),TextboxElement}(React.Component);TextboxElement.propTypes={name:React.PropTypes.string.isRequired,label:React.PropTypes.string,value:React.PropTypes.string,id:React.PropTypes.string,disabled:React.PropTypes.bool,required:React.PropTypes.bool,errorMessage:React.PropTypes.string,onUserInput:React.PropTypes.func,onUserBlur:React.PropTypes.func},TextboxElement.defaultProps={name:"",label:"",value:"",id:null,disabled:!1,required:!1,errorMessage:"",onUserInput:function(){console.warn("onUserInput() callback is not set")},onUserBlur:function(){}};var DateElement=function(_React$Component7){function DateElement(){_classCallCheck(this,DateElement);var _this7=_possibleConstructorReturn(this,(DateElement.__proto__||Object.getPrototypeOf(DateElement)).call(this));return _this7.handleChange=_this7.handleChange.bind(_this7),_this7}return _inherits(DateElement,_React$Component7),_createClass(DateElement,[{key:"handleChange",value:function(e){this.props.onUserInput(this.props.name,e.target.value)}},{key:"render",value:function(){var disabled=this.props.disabled?"disabled":null,required=this.props.required?"required":null,requiredHTML=null;return required&&(requiredHTML=React.createElement("span",{className:"text-danger"},"*")),React.createElement("div",{className:"row form-group"},React.createElement("label",{className:"col-sm-3 control-label",htmlFor:this.props.label},this.props.label,requiredHTML),React.createElement("div",{className:"col-sm-9"},React.createElement("input",{type:"date",className:"form-control",name:this.props.name,id:this.props.id,min:this.props.minYear,max:this.props.maxYear,onChange:this.handleChange,value:this.props.value||"",required:required,disabled:disabled})))}}]),DateElement}(React.Component);DateElement.propTypes={name:React.PropTypes.string.isRequired,label:React.PropTypes.string,value:React.PropTypes.string,id:React.PropTypes.string,maxYear:React.PropTypes.string,minYear:React.PropTypes.string,disabled:React.PropTypes.bool,required:React.PropTypes.bool,onUserInput:React.PropTypes.func},DateElement.defaultProps={name:"",label:"",value:"",id:null,maxYear:"9999-12-31",minYear:"1000-01-01",disabled:!1,required:!1,onUserInput:function(){console.warn("onUserInput() callback is not set")}};var TimeElement=function(_React$Component8){function TimeElement(){_classCallCheck(this,TimeElement);var _this8=_possibleConstructorReturn(this,(TimeElement.__proto__||Object.getPrototypeOf(TimeElement)).call(this));return _this8.handleChange=_this8.handleChange.bind(_this8),_this8}return _inherits(TimeElement,_React$Component8),_createClass(TimeElement,[{key:"handleChange",value:function(e){this.props.onUserInput(this.props.name,e.target.value)}},{key:"render",value:function(){var disabled=this.props.disabled?"disabled":null,required=this.props.required?"required":null,requiredHTML=null;return required&&(requiredHTML=React.createElement("span",{className:"text-danger"},"*")),React.createElement("div",{className:"row form-group"},React.createElement("label",{className:"col-sm-3 control-label",htmlFor:this.props.label},this.props.label,requiredHTML),React.createElement("div",{className:"col-sm-9"},React.createElement("input",{type:"time",className:"form-control",name:this.props.name,id:this.props.id,onChange:this.handleChange,value:this.props.value||"",required:required,disabled:disabled,pattern:"([0-1][0-9]|2[0-4]|[1-9]):([0-5][0-9])(:([0-5][0-9]))?",title:"Input must be in one of the following formats: HH:MM or HH:MM:SS"})))}}]),TimeElement}(React.Component);TimeElement.propTypes={name:React.PropTypes.string.isRequired,label:React.PropTypes.string,value:React.PropTypes.string,id:React.PropTypes.string,disabled:React.PropTypes.bool,required:React.PropTypes.bool,onUserInput:React.PropTypes.func},TimeElement.defaultProps={name:"",label:"",value:"",id:"",disabled:!1,required:!1,onUserInput:function(){console.warn("onUserInput() callback is not set")}};var NumericElement=function(_React$Component9){function NumericElement(){_classCallCheck(this,NumericElement);var _this9=_possibleConstructorReturn(this,(NumericElement.__proto__||Object.getPrototypeOf(NumericElement)).call(this));return _this9.handleChange=_this9.handleChange.bind(_this9),_this9}return _inherits(NumericElement,_React$Component9),_createClass(NumericElement,[{key:"handleChange",value:function(e){this.props.onUserInput(this.props.name,e.target.value)}},{key:"render",value:function(){var disabled=this.props.disabled?"disabled":null,required=this.props.required?"required":null,requiredHTML=null;return React.createElement("div",{className:"row form-group"},React.createElement("label",{className:"col-sm-3 control-label",htmlFor:this.props.id},this.props.label,requiredHTML),React.createElement("div",{className:"col-sm-9"},React.createElement("input",{type:"number",className:"form-control",name:this.props.name,id:this.props.id,min:this.props.min,max:this.props.max,value:this.props.value,disabled:disabled,required:required,onChange:this.handleChange})))}}]),NumericElement}(React.Component);NumericElement.propTypes={name:React.PropTypes.string.isRequired,min:React.PropTypes.number.isRequired,max:React.PropTypes.number.isRequired,label:React.PropTypes.string,value:React.PropTypes.string,id:React.PropTypes.string,disabled:React.PropTypes.bool,required:React.PropTypes.bool,onUserInput:React.PropTypes.func},NumericElement.defaultProps={name:"",min:null,max:null,label:"",value:"",id:null,required:!1,disabled:!1,onUserInput:function(){console.warn("onUserInput() callback is not set")}};var FileElement=function(_React$Component10){function FileElement(){_classCallCheck(this,FileElement);var _this10=_possibleConstructorReturn(this,(FileElement.__proto__||Object.getPrototypeOf(FileElement)).call(this));return _this10.handleChange=_this10.handleChange.bind(_this10),_this10}return _inherits(FileElement,_React$Component10),_createClass(FileElement,[{key:"handleChange",value:function(e){var file=e.target.files[0]?e.target.files[0]:"";this.props.onUserInput(this.props.name,file)}},{key:"render",value:function(){var required=this.props.required?"required":null,fileName=this.props.value?this.props.value.name:void 0,requiredHTML=null,errorMessage="",elementClass="row form-group";required&&(requiredHTML=React.createElement("span",{className:"text-danger"},"*"));var truncateEllipsis={display:"table",tableLayout:"fixed",width:"100%",whiteSpace:"nowrap"},truncateEllipsisChild={display:"table-cell",overflow:"hidden",textOverflow:"ellipsis"};this.props.hasError&&(errorMessage=this.props.errorMessage,elementClass="row form-group has-error");var fileHTML=document.querySelector(".fileUpload");return fileHTML&&!fileName&&(fileHTML.value=""),this.props.disabled?(truncateEllipsis.paddingTop="7px",React.createElement("div",{className:elementClass},React.createElement("label",{className:"col-sm-3 control-label"},this.props.label),React.createElement("div",{className:"col-sm-9"},React.createElement("div",{style:truncateEllipsis},React.createElement("span",{style:truncateEllipsisChild},fileName))))):React.createElement("div",{className:elementClass},React.createElement("label",{className:"col-sm-3 control-label"},this.props.label,requiredHTML),React.createElement("div",{className:"col-sm-9"},React.createElement("div",{className:"input-group"},React.createElement("div",{tabIndex:"-1",className:"form-control file-caption kv-fileinput-caption"},React.createElement("div",{style:truncateEllipsis},React.createElement("span",{style:truncateEllipsisChild},fileName)),React.createElement("div",{className:"file-caption-name",id:"video_file"})),React.createElement("div",{className:"input-group-btn"},React.createElement("div",{className:"btn btn-primary btn-file"},React.createElement("i",{className:"glyphicon glyphicon-folder-open"})," Browse",React.createElement("input",{type:"file",className:"fileUpload",name:this.props.name,onChange:this.handleChange,required:required})))),React.createElement("span",null,errorMessage)))}}]),FileElement}(React.Component);FileElement.propTypes={name:React.PropTypes.string.isRequired,label:React.PropTypes.string,value:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.object]),id:React.PropTypes.string,disabled:React.PropTypes.bool,required:React.PropTypes.bool,hasError:React.PropTypes.bool,errorMessage:React.PropTypes.string,onUserInput:React.PropTypes.func},FileElement.defaultProps={name:"",label:"File to Upload",value:"",id:null,disabled:!1,required:!1,hasError:!1,errorMessage:"The field is required!",onUserInput:function(){console.warn("onUserInput() callback is not set")}};var StaticElement=function(_React$Component11){function StaticElement(){return _classCallCheck(this,StaticElement),_possibleConstructorReturn(this,(StaticElement.__proto__||Object.getPrototypeOf(StaticElement)).apply(this,arguments))}return _inherits(StaticElement,_React$Component11),_createClass(StaticElement,[{key:"render",value:function(){return React.createElement("div",{className:"row form-group"},React.createElement("label",{className:"col-sm-3 control-label"},this.props.label),React.createElement("div",{className:"col-sm-9"},React.createElement("p",{className:"form-control-static"},this.props.text)))}}]),StaticElement}(React.Component);StaticElement.propTypes={label:React.PropTypes.string,text:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.element])},StaticElement.defaultProps={label:"",text:null};var LinkElement=function(_React$Component12){function LinkElement(){return _classCallCheck(this,LinkElement),_possibleConstructorReturn(this,(LinkElement.__proto__||Object.getPrototypeOf(LinkElement)).apply(this,arguments))}return _inherits(LinkElement,_React$Component12),_createClass(LinkElement,[{key:"render",value:function(){return React.createElement("div",{className:"row form-group"},React.createElement("label",{className:"col-sm-3 control-label"},this.props.label),React.createElement("div",{className:"col-sm-9"},React.createElement("p",{className:"form-control-static"},React.createElement("a",{href:this.props.href},this.props.text))))}}]),LinkElement}(React.Component);LinkElement.propTypes={label:React.PropTypes.string,text:React.PropTypes.oneOfType([React.PropTypes.string,React.PropTypes.element]),href:React.PropTypes.string},LinkElement.defaultProps={label:"",text:null,href:null};var ButtonElement=function(_React$Component13){function ButtonElement(){_classCallCheck(this,ButtonElement);var _this13=_possibleConstructorReturn(this,(ButtonElement.__proto__||Object.getPrototypeOf(ButtonElement)).call(this));return _this13.handleClick=_this13.handleClick.bind(_this13),_this13}return _inherits(ButtonElement,_React$Component13),_createClass(ButtonElement,[{key:"handleClick",value:function(e){this.props.onUserInput(e)}},{key:"render",value:function(){return React.createElement("div",{className:"row form-group"},React.createElement("div",{className:this.props.columnSize},React.createElement("button",{type:this.props.type,className:this.props.buttonClass,onClick:this.handleClick},this.props.label)))}}]),ButtonElement}(React.Component);ButtonElement.propTypes={label:React.PropTypes.string,type:React.PropTypes.string,onUserInput:React.PropTypes.func},ButtonElement.defaultProps={label:"Submit",type:"submit",buttonClass:"btn btn-primary",columnSize:"col-sm-9 col-sm-offset-3",onUserInput:function(){console.warn("onUserInput() callback is not set")}};var LorisElement=function(_React$Component14){function LorisElement(){return _classCallCheck(this,LorisElement),_possibleConstructorReturn(this,(LorisElement.__proto__||Object.getPrototypeOf(LorisElement)).apply(this,arguments))}return _inherits(LorisElement,_React$Component14),_createClass(LorisElement,[{key:"render",value:function(){var elementProps=this.props.element;elementProps.ref=elementProps.name,elementProps.onUserInput=this.props.onUserInput;var elementHtml=React.createElement("div",null);switch(elementProps.type){case"text":elementHtml=React.createElement(TextboxElement,elementProps);break;case"tags":elementHtml=React.createElement(TagsElement,elementProps);break;case"select":elementHtml=React.createElement(SelectElement,elementProps);break;case"search":elementHtml=React.createElement(SearchableDropdown,elementProps);break;case"date":elementHtml=React.createElement(DateElement,elementProps);break;case"time":elementHtml=React.createElement(TimeElement,elementProps);break;case"numeric":elementHtml=React.createElement(NumericElement,elementProps);break;case"textarea":elementHtml=React.createElement(TextareaElement,elementProps);break;case"file":elementHtml=React.createElement(FileElement,elementProps);break;case"static":elementHtml=React.createElement(StaticElement,elementProps);break;case"link":elementHtml=React.createElement(LinkElement,elementProps);break;default:console.warn("Element of type "+elementProps.type+" is not currently implemented!")}return elementHtml}}]),LorisElement}(React.Component);window.FormElement=FormElement,window.SelectElement=SelectElement,window.TagsElement=TagsElement,window.SearchableDropdown=SearchableDropdown,window.TextareaElement=TextareaElement,window.TextboxElement=TextboxElement,window.DateElement=DateElement,window.TimeElement=TimeElement,window.NumericElement=NumericElement,window.FileElement=FileElement,window.StaticElement=StaticElement,window.LinkElement=LinkElement,window.ButtonElement=ButtonElement,window.LorisElement=LorisElement,exports.default={FormElement:FormElement,SelectElement:SelectElement,TagsElement:TagsElement,SearchableDropdown:SearchableDropdown,TextareaElement:TextareaElement,TextboxElement:TextboxElement,DateElement:DateElement,TimeElement:TimeElement,NumericElement:NumericElement,FileElement:FileElement,StaticElement:StaticElement,LinkElement:LinkElement,ButtonElement:ButtonElement,LorisElement:LorisElement}},28:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_StaticDataTable=__webpack_require__(29),_StaticDataTable2=_interopRequireDefault(_StaticDataTable),PhantomsDataTable=function(_React$Component){function PhantomsDataTable(props){_classCallCheck(this,PhantomsDataTable);var _this=_possibleConstructorReturn(this,(PhantomsDataTable.__proto__||Object.getPrototypeOf(PhantomsDataTable)).call(this,props));return _this.formatCell=_this.formatCell.bind(_this),_this}return _inherits(PhantomsDataTable,_React$Component),_createClass(PhantomsDataTable,[{key:"formatCell",value:function(header,value,row,headers){return React.createElement("td",null,value)}},{key:"render",value:function(){return React.createElement("div",null,React.createElement(_StaticDataTable2.default,{Data:this.props.data,Headers:this.props.headers,Filter:this.props.filter,getFormattedCell:this.formatCell}))}}]),PhantomsDataTable}(React.Component);exports.default=PhantomsDataTable},29:function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_PaginationLinks=__webpack_require__(30),_PaginationLinks2=_interopRequireDefault(_PaginationLinks),StaticDataTable=React.createClass({displayName:"StaticDataTable",mixins:[React.addons.PureRenderMixin],propTypes:{Headers:React.PropTypes.array.isRequired,Data:React.PropTypes.array.isRequired,RowNumLabel:React.PropTypes.string,getFormattedCell:React.PropTypes.func,onSort:React.PropTypes.func},componentDidMount:function(){jQuery.fn.DynamicTable&&(this.props.freezeColumn?$("#dynamictable").DynamicTable({freezeColumn:this.props.freezeColumn}):$("#dynamictable").DynamicTable());var modulePrefs=JSON.parse(localStorage.getItem("modulePrefs"));null===modulePrefs&&(modulePrefs={}),void 0===modulePrefs[loris.TestName]&&(modulePrefs[loris.TestName]={},modulePrefs[loris.TestName].rowsPerPage=this.state.RowsPerPage);var rowsPerPage=modulePrefs[loris.TestName].rowsPerPage;this.setState({RowsPerPage:rowsPerPage}),this.modulePrefs=modulePrefs},componentDidUpdate:function(prevProps,prevState){if(jQuery.fn.DynamicTable&&(this.props.freezeColumn?$("#dynamictable").DynamicTable({freezeColumn:this.props.freezeColumn}):$("#dynamictable").DynamicTable()),this.props.onSort&&(this.state.SortColumn!==prevState.SortColumn||this.state.SortOrder!==prevState.SortOrder)){var index=this.getSortedRows();this.props.onSort(index,this.props.Data,this.props.Headers)}},getInitialState:function(){return{PageNumber:1,SortColumn:-1,SortOrder:"ASC",RowsPerPage:20}},getDefaultProps:function(){return{Headers:[],Data:{},RowNumLabel:"No.",Filter:{}}},changePage:function(pageNo){this.setState({PageNumber:pageNo})},setSortColumn:function(colNumber){var that=this;return function(e){that.state.SortColumn===colNumber?that.setState({SortOrder:"ASC"===that.state.SortOrder?"DESC":"ASC"}):that.setState({SortColumn:colNumber})}},changeRowsPerPage:function(val){var rowsPerPage=val.target.value,modulePrefs=this.modulePrefs;modulePrefs[loris.TestName].rowsPerPage=rowsPerPage,localStorage.setItem("modulePrefs",JSON.stringify(modulePrefs)),this.setState({RowsPerPage:rowsPerPage,PageNumber:1})},downloadCSV:function(csvData){var csvworker=new Worker(loris.BaseURL+"/js/workers/savecsv.js");csvworker.addEventListener("message",function(e){var dataURL,dataDate,link;"SaveCSV"===e.data.cmd&&(dataDate=(new Date).toISOString(),dataURL=window.URL.createObjectURL(e.data.message),link=document.createElement("a"),link.download="data-"+dataDate+".csv",link.type="text/csv",link.href=dataURL,document.body.appendChild(link),$(link)[0].click(),document.body.removeChild(link))}),csvworker.postMessage({cmd:"SaveFile",data:csvData,headers:this.props.Headers,identifiers:this.props.RowNameMap})},countFilteredRows:function(){var useKeyword=!1,filterMatchCount=0,filterValuesCount=this.props.Filter?Object.keys(this.props.Filter).length:0,tableData=this.props.Data,headersData=this.props.Headers;this.props.Filter.keyword&&(useKeyword=!0),useKeyword&&(filterValuesCount-=1);for(var i=0;i<tableData.length;i++){for(var headerCount=0,keywordMatch=0,j=0;j<headersData.length;j++){var data=tableData[i]?tableData[i][j]:null;this.hasFilterKeyword(headersData[j],data)&&headerCount++,useKeyword&&this.hasFilterKeyword("keyword",data)&&keywordMatch++}headerCount===filterValuesCount&&(useKeyword===!0&&keywordMatch>0||useKeyword===!1&&0===keywordMatch)&&filterMatchCount++}var hasFilters=0!==filterValuesCount;return 0===filterMatchCount&&hasFilters?0:0===filterMatchCount?tableData.length:filterMatchCount},toCamelCase:function(str){return str.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(match,index){return 0===Number(match)?"":0===index?match.toLowerCase():match.toUpperCase()})},getSortedRows:function(){for(var index=[],i=0;i<this.props.Data.length;i+=1){var val=this.props.Data[i][this.state.SortColumn]||void 0;this.state.SortColumn===-1&&(val=i+1);var isString="string"==typeof val||val instanceof String,isNumber=!isNaN(val)&&"object"!==("undefined"==typeof val?"undefined":_typeof(val));val="."===val?null:isNumber?Number(val):isString?val.toLowerCase():void 0,this.props.RowNameMap?index.push({RowIdx:i,Value:val,Content:this.props.RowNameMap[i]}):index.push({RowIdx:i,Value:val,Content:i+1})}return index.sort(function(a,b){if("ASC"===this.state.SortOrder){if(a.Value===b.Value){if(a.RowIdx<b.RowIdx)return-1;if(a.RowIdx>b.RowIdx)return 1}if(null===a.Value||"undefined"==typeof a.Value)return-1;if(null===b.Value||"undefined"==typeof b.Value)return 1;if(a.Value<b.Value)return-1;if(a.Value>b.Value)return 1}else{if(a.Value===b.Value){if(a.RowIdx<b.RowIdx)return 1;if(a.RowIdx>b.RowIdx)return-1}if(null===a.Value||"undefined"==typeof a.Value)return 1;if(null===b.Value||"undefined"==typeof b.Value)return-1;if(a.Value<b.Value)return 1;if(a.Value>b.Value)return-1}return 0}.bind(this)),index},hasFilterKeyword:function(headerData,data){var header=this.toCamelCase(headerData),filterData=null,exactMatch=!1,result=!1,searchKey=null,searchString=null;if(this.props.Filter[header]&&(filterData=this.props.Filter[header].value,exactMatch=this.props.Filter[header].exactMatch),null===filterData||null===data)return!1;if("number"==typeof filterData){var intData=Number.parseInt(data,10);result=filterData===intData}if("string"==typeof filterData&&(searchKey=filterData.toLowerCase(),searchString=data.toLowerCase(),result=exactMatch?searchString===searchKey:searchString.indexOf(searchKey)>-1),"object"===("undefined"==typeof filterData?"undefined":_typeof(filterData)))for(var match=!1,i=0;i<filterData.length;i+=1)searchKey=filterData[i].toLowerCase(),searchString=data.toLowerCase(),match=searchString.indexOf(searchKey)>-1,match&&(result=!0);return result},render:function(){if(null===this.props.Data||0===this.props.Data.length)return React.createElement("div",{className:"alert alert-info no-result-found-panel"},React.createElement("strong",null,"No result found."));for(var rowsPerPage=this.state.RowsPerPage,headers=[React.createElement("th",{key:"th_col_0",onClick:this.setSortColumn(-1)},this.props.RowNumLabel)],i=0;i<this.props.Headers.length;i+=1)if("undefined"==typeof loris.hiddenHeaders||loris.hiddenHeaders.indexOf(this.props.Headers[i])===-1){var colIndex=i+1;this.props.Headers[i]===this.props.freezeColumn?headers.push(React.createElement("th",{key:"th_col_"+colIndex,id:this.props.freezeColumn,onClick:this.setSortColumn(i)},this.props.Headers[i])):headers.push(React.createElement("th",{key:"th_col_"+colIndex,onClick:this.setSortColumn(i)},this.props.Headers[i]))}var rows=[],curRow=[],index=this.getSortedRows(),matchesFound=0,filteredRows=this.countFilteredRows(),currentPageRow=rowsPerPage*(this.state.PageNumber-1),filteredData=[],useKeyword=!1;this.props.Filter.keyword&&(useKeyword=!0);for(var _i=0;_i<this.props.Data.length&&rows.length<rowsPerPage;_i++){curRow=[];for(var filterMatchCount=0,keywordMatch=0,filterLength=0,j=0;j<this.props.Headers.length;j+=1){var data="Unknown";this.props.Data[index[_i].RowIdx]&&(data=this.props.Data[index[_i].RowIdx][j]),this.hasFilterKeyword(this.props.Headers[j],data)&&(filterMatchCount++,filteredData.push(this.props.Data[index[_i].RowIdx])),useKeyword===!0?(filterLength=Object.keys(this.props.Filter).length-1,this.hasFilterKeyword("keyword",data)&&keywordMatch++):filterLength=Object.keys(this.props.Filter).length;var key="td_col_"+j;this.props.getFormattedCell?(data=this.props.getFormattedCell(this.props.Headers[j],data,this.props.Data[index[_i].RowIdx],this.props.Headers),null!==data&&curRow.push(React.addons.createFragment({data:data}))):curRow.push(React.createElement("td",{key:key},data))}if(filterLength===filterMatchCount&&(useKeyword===!0&&keywordMatch>0||useKeyword===!1&&0===keywordMatch)&&(matchesFound++,matchesFound>currentPageRow)){var rowIndex=index[_i].Content;rows.push(React.createElement("tr",{key:"tr_"+rowIndex,colSpan:headers.length},React.createElement("td",null,rowIndex),curRow))}}var RowsPerPageDropdown=React.createElement("select",{className:"input-sm perPage",onChange:this.changeRowsPerPage,value:this.state.RowsPerPage},React.createElement("option",null,"20"),React.createElement("option",null,"50"),React.createElement("option",null,"100"),React.createElement("option",null,"1000"),React.createElement("option",null,"5000"),React.createElement("option",null,"10000")),csvData=this.props.Data;return this.props.Filter&&filteredData.length>0&&(csvData=filteredData),React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"table-header panel-heading"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-12"},rows.length," rows displayed of ",filteredRows,". (Maximum rows per page: ",RowsPerPageDropdown,")",React.createElement("div",{className:"pull-right"},React.createElement(_PaginationLinks2.default,{Total:filteredRows,onChangePage:this.changePage,RowsPerPage:rowsPerPage,Active:this.state.PageNumber}))))),React.createElement("table",{className:"table table-hover table-primary table-bordered",id:"dynamictable"},React.createElement("thead",null,React.createElement("tr",{className:"info"},headers)),React.createElement("tbody",null,rows)),React.createElement("div",{className:"panel-footer table-footer"},React.createElement("div",{className:"row"},React.createElement("div",{className:"col-xs-12"},React.createElement("div",{className:"col-xs-12 footerText"},rows.length," rows displayed of ",filteredRows,". (Maximum rows per page: ",RowsPerPageDropdown,")"),React.createElement("div",{className:"col-xs-6"},React.createElement("button",{className:"btn btn-primary downloadCSV",onClick:this.downloadCSV.bind(null,csvData)},"Download Table as CSV")),React.createElement("div",{className:"pull-right"},React.createElement(_PaginationLinks2.default,{Total:filteredRows,onChangePage:this.changePage,RowsPerPage:rowsPerPage,Active:this.state.PageNumber}))))))}}),RStaticDataTable=React.createFactory(StaticDataTable);window.StaticDataTable=StaticDataTable,window.RStaticDataTable=RStaticDataTable,exports.default=StaticDataTable},30:function(module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var PaginationLinks=React.createClass({displayName:"PaginationLinks",mixins:[React.addons.PureRenderMixin],propTypes:{onChangePage:React.PropTypes.func,Total:React.PropTypes.number.isRequired},getDefaultProps:function(){return{RowsPerPage:10,Active:1}},changePage:function(i){var that=this;return function(evt){evt.preventDefault(),that.props.onChangePage&&that.props.onChangePage(i)}},render:function(){var classList,rowsPerPage=this.props.RowsPerPage,pageLinks=[],lastPage=Math.ceil(this.props.Total/rowsPerPage),startPage=Math.max(1,this.props.Active-3),lastShownPage=Math.min(this.props.Active+3,lastPage);if(0===this.props.Total)return React.createElement("div",null);if(this.props.Total<this.props.RowsPerPage)return React.createElement("div",null);if(lastShownPage-startPage<=7&&(lastShownPage=startPage+6,lastShownPage>lastPage&&(lastShownPage=lastPage,startPage=lastPage-6)),startPage>1&&pageLinks.push(React.createElement("li",{onClick:this.changePage(1)},React.createElement("a",{href:"#"},"«"))),startPage<1&&(startPage=1),lastShownPage<1&&(lastShownPage=1),startPage===lastShownPage)return React.createElement("div",null);for(var i=startPage;i<=lastShownPage;i+=1)classList="",this.props.Active===i&&(classList="active"),pageLinks.push(React.createElement("li",{key:"table_page_"+i,onClick:this.changePage(i),className:classList},React.createElement("a",{href:"#"},i)));return lastShownPage!==lastPage&&pageLinks.push(React.createElement("li",{key:"table_page_more",onClick:this.changePage(lastPage)},React.createElement("a",{href:"#"},"»"))),React.createElement("ul",{className:"pagination pagination-table"},pageLinks)}}),RPaginationLinks=React.createFactory(PaginationLinks);window.PaginationLinks=PaginationLinks,window.RPaginationLinks=RPaginationLinks,exports.default=PaginationLinks}});
//# sourceMappingURL=index.js.map